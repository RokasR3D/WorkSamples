<!DOCTYPE html>
<html>
<head>
<title>Vertex - Triangle count converter </title>
</head>
<body>
Number of Gaps <input type="text" id="gaps" value="0" oninput="processFunction(this)"><br>
Number of Holes <input type="text" id="holes" value="0" oninput="processFunction(this)"><br>
Number of Vertices <input type="text" id="vertices" value="4" oninput="processFunction(this)"><br>
Number of Triangles <input type="text" id="triangles" value"4" oninput="processFunction(this)"><br>

<p id="demo"></p>
<script>
function processFunction(element){
	numericValue = element.value.replace(/[^\d]/,'');
	element.value = numericValue;
	// document.getElementById("demo").innerHTML = "output " + numericValue;
	if( element.name == "triangle") {
		/* the only time we change vertex count is when face values are changed
			otherwize triangle count is always changed
			*/
		gaps = document.getElementById("gaps").value ;
		holes = document.getElementById("holes").value ;
		triangles = document.getElementById("triangles").value ;
		chi = 2 - 2*holes - gaps ;
		vertices = triangles/2 + chi ;
		document.getElementById("vertices").value = vertices ;
	}
	else {
		/* Chi (pronounced khay, looks like an X) is the Euler characteristic
			chi = V - E + F
			where V , E and F are the Vertex, Edge and Face counts
			any surface topologically equivalent to a sphere has a chi of 2
			any surface topologically equivalent to a torus (eg a cup with a handle) has a chi of 0
			basically take away 2 for every hole
			Here we need to make a distinction between a hole and a gap
			A gap means that some faces are missing. ie. the surface is not closed.
			Holes can exist in closed surface. essentialy if it is possible to cut along an edge loop
			without seperating geometry into two then that is a hole.
			*/
		gaps = document.getElementById("gaps").value ;
		holes = document.getElementById("holes").value ;
		vertices = document.getElementById("vertices").value ;
		chi = 2 - 2*holes ;
		triangles = vertices*2 - 2*chi -gaps ;
		document.getElementById("triangles").value = triangles ;
		document.getElementById("demo").innerHTML = "output " + triangles ;
	}
}
</script>
</body>
</html>
